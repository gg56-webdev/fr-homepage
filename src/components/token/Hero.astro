---
import { DOWNLOAD_LINK } from '@/constants'
import token from '@/assets/token/msot.webp'
import { Image } from 'astro:assets'
import i18next, { t } from 'i18next'
import { Trans } from 'astro-i18next/components'

export const formatNumber = (num: number, options?: Intl.NumberFormatOptions) =>
  new Intl.NumberFormat(i18next.language, {
    notation: 'compact',
    ...options,
  }).format(num)
---

<section class="mx-auto grid max-w-screen-lg content-center items-center gap-8 px-2 pt-12 md:grid-cols-2">
  <div class="text-center md:text-left">
    <h1 class="text-4xl font-bold md:text-6xl/[1.3]">
      {t('token.hero.h1')}
    </h1>
  </div>
  <div class="space-y-6">
    <div class="flex gap-8 rounded-full bg-slate-950/80 p-2">
      <Image src={token} alt="MSOT token logo" class="h-24 w-24" />
      <dl class="flex flex-1 items-center justify-around gap-8 pr-8">
        <div class="flex flex-col-reverse flex-wrap gap-2">
          <dt>{t('token.hero.quantity')}</dt>
          <dd class="md:text-4xl text-3xl font-bold">
            {formatNumber(1_800_000_000)}
          </dd>
        </div>
        <div class="flex flex-col-reverse gap-2">
          <dt>{t('token.hero.price')}</dt>
          <dd id="token-price" class="animate-pulse md:text-4xl text-3xl font-bold">
            {
              formatNumber(0.0, {
                currency: 'USD',
                style: 'currency',
                maximumFractionDigits: 4,
              })
            }
          </dd>
        </div>
      </dl>
    </div>
    <p class="text-center text-lg">
      <Trans i18nKey="token.hero.p">
        Take full advantage of the FingeRate ecosystem! Download the <a
          href={DOWNLOAD_LINK}
          class="text-neonBlue underline"
          target="_blank"
          rel="noopener noreferrer">App</a
        >, earn rewards, and trade MSOT on Latoken
      </Trans>
    </p>
    <a
      class="flex rounded-full border-2 border-intelligentBlue p-2 font-medium transition hover:bg-intelligentBlue focus:bg-intelligentBlue"
      href="https://latoken.com/exchange/MSOT_BTC"
      target="_blank"
      rel="noopener noreferrer"
      ><span class="px-4">{t('token.hero.link')}</span><span
        class="ml-auto inline-grid place-items-center rounded-full bg-intelligentBlue px-4 leading-none">&rarr;</span
      ></a
    >
  </div>
</section>
